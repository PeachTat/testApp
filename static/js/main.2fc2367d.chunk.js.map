{"version":3,"sources":["components/ModalWindow/ModalWindow.module.scss","components/Pictures/Pictures.js","components/ModalWindow/ModalWindow.js","App.js","index.js","components/Pictures/Pictures.module.scss"],"names":["module","exports","Pictures","className","styles","wrap","row","this","props","images","map","image","alt","src","url","key","id","onClick","modalActive","Component","ModalWindow","state","comments","form","firstName","comment","onInputChange","event","target","value","name","setState","onSubmit","preventDefault","length","data","newComment","date","Date","text","Math","random","toString","concat","postComment","a","fetch","method","contentType","body","JSON","stringify","request","console","log","error","message","getImage","result","json","back","onClose","modal","type","placeholder","onChange","toLocaleDateString","close","item","App","modalOpen","getImages","res","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2fc2367d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"back\":\"ModalWindow_back__2X09t\",\"modal\":\"ModalWindow_modal__39ys5\",\"wrap\":\"ModalWindow_wrap__3sx8F\",\"form\":\"ModalWindow_form__1x-aC\",\"comments\":\"ModalWindow_comments__1uGA7\",\"close\":\"ModalWindow_close__Ta9fN\",\"item\":\"ModalWindow_item__Hka3w\"};","import React, { Component } from 'react';\nimport styles from './Pictures.module.scss';\n\nexport default class Pictures extends Component {\n    render () {\n        return (\n            <div className={styles.wrap}>\n                <h1>Test App</h1>\n                <div className={styles.row}>\n                    {\n                        this.props.images.map(image => {\n                            return (\n                                <img \n                                    alt='prop'\n                                    src={image.url} \n                                    key={image.id}\n                                    onClick={() => this.props.modalActive(image.id, image.url)}\n                                />\n                            )\n\n                        })\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n","import React, { Component} from 'react';\nimport styles from './ModalWindow.module.scss';\n\nexport default class ModalWindow extends Component {\n    state = {\n        comments: [],\n        form: {\n            firstName: '',\n            comment: ''\n        }\n    }\n\n    onInputChange = (event) => {\n        const { value, name } = event.target;\n\n        this.setState({\n            form: {\n                ...this.state.form,\n                [name]: value\n            }\n        })\n    }\n\n    onSubmit = (event) => {\n        event.preventDefault();\n        const { firstName, comment } = this.state.form;\n        if (comment.length === 0) {\n            return\n        }\n        const data = { \n            name: firstName,\n            comment: comment\n        }\n        \n        const newComment = { \n            date: new Date(),\n            text: comment,\n            id: `f${(~~(Math.random() * 1e8)).toString(16)}`\n        }\n\n        this.setState({\n            comments: this.state.comments.concat(newComment)\n        })\n        \n        this.postComment(data);\n    }\n\n    postComment = async (data) => {\n        try {\n            const request = await fetch(`https://boiling-refuge-66454.herokuapp.com/images/${this.props.id}/comments`, {\n                method: 'POST',\n                contentType: 'application/json',\n                body: JSON.stringify(data)\n            });\n\n            console.log(request)\n\n\n        } catch (error) {\n            console.error(error.message)\n        }\n    }\n\n    getImage = async () => {\n        try {\n            const result = await fetch(`https://boiling-refuge-66454.herokuapp.com/images/${this.props.id}`)\n            const data = await result.json();\n\n            this.setState({\n                comments: data.comments\n            })\n\n            console.log(data.comments)\n        } catch (error) {\n            console.error(error.message)\n        }\n    }\n\n    componentDidMount () {\n        this.getImage();\n    }\n\n\n    render() {\n        return (\n            <>\n                <div className={styles.back} onClick={this.props.onClose}></div>\n                <div className={styles.modal}>\n                    <div className={styles.wrap}>\n                        <form className={styles.form} onSubmit={this.onSubmit}>\n                            <img\n                                alt=''\n                                src={this.props.url}\n                            />\n                            <input name='firstName' type=\"text\" placeholder='Ваше Имя' onChange={this.onInputChange} />\n                            <input name='comment' type=\"text\" placeholder='Ваш комментарий' onChange={this.onInputChange} />\n                            <button type='submit'>Оставить комментарий</button>\n                        </form>\n                        <div className={styles.comments}>\n                            {\n                                this.state.comments.map(comment => {\n                                    const date = new Date(comment.date).toLocaleDateString();\n                                    return (\n                                        <div key={comment.id} className={styles.comment}>\n                                            <p>{date}</p>\n                                            <span>{comment.text}</span>\n                                        </div>\n                                    )\n                                })\n                            }\n                        </div>\n                    </div>\n                    <div className={styles.close} onClick={this.props.onClose}>\n                        <div className={styles.item}></div>\n                        <div className={styles.item}></div>\n                    </div>\n                </div>\n            </>\n        )\n    }\n}\n","import React, {Component} from 'react';\nimport './App.scss';\nimport Pictures from './components/Pictures';\nimport ModalWindow from './components/ModalWindow';\nimport 'normalize.css';\n\nexport default class App extends Component {\n    state = {\n        modalOpen: false,\n        images: [],\n        id: null,\n        url: ''\n    }\n\n    modalActive = (id, url) => {\n        this.setState({\n            modalOpen: true,\n            id: id,\n            url: url\n        })\n        console.log(id, url)\n    }\n    \n    onClose = () => {\n        this.setState({\n            modalOpen: false\n        })\n    }\n\n    getImages = async () => {\n        try {\n            const res = await fetch('https://boiling-refuge-66454.herokuapp.com/images');\n            const data = await res.json();\n\n            this.setState({\n                images: data\n            })\n        } catch (error) {\n            console.error(error.message)\n        }\n    }\n\n    componentDidMount() {\n        this.getImages();\n    }\n\n    render () {\n        return (\n            <>\n                <Pictures modalActive={this.modalActive} images={this.state.images}/>\n                {\n                    this.state.modalOpen \n                        ? <ModalWindow \n                            onClose={this.onClose} \n                            id={this.state.id} \n                            url={this.state.url}\n                        /> \n                        : null\n                }\n            </>\n        );\n    }\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Pictures_wrap__23I-w\",\"row\":\"Pictures_row__1rGkE\"};"],"sourceRoot":""}